apiVersion: cloud.ibm.com/v1alpha1
kind: BillOfMaterial
metadata:
  name: 200-argocd-bootstrap
  labels:
    type: software
    code: '200'
  annotations:
    displayName: ArgoCD Bootstrap
    description: Provisions OpenShift GitOps(ArgoCD) into an existing cluster and bootstraps it to a gitops repository
spec:
  modules:
    # Login to existing OpenShift cluster
    - name: ocp-login

    # Create the GitOps Repo
    - name: gitops-repo

    # Install OpenShift GitOps and Bootstrap GitOps (aka. ArgoCD)
    - name: argocd-bootstrap
      variables:
        - name: create_webhook
          value: true
        - name: prefix
          value: turbo

